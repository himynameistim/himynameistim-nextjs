---
interface Props {
  title?: string;
  description?: string;
  image?: string;
  canonical?: string;
}

const { title = "Hi My Name Is Tim", description, image, canonical } = Astro.props;
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="manifest" href="/site.webmanifest" />
    <title>{title}</title>
    {description && <meta name="description" content={description} />}
    {image && <meta property="og:image" content={image} />}
    {canonical && <link rel="canonical" href={canonical} />}
    <meta property="og:title" content={title} />
    <meta property="og:type" content="website" />
    <slot name="head" />
  </head>
  <body>
    <div>
      <header>
        <div class="logo">
          <div class="nav-button">
            <button id="menu-button" aria-expanded="false">
              <span>Open main menu</span>
              <svg
                id="menu-icon"
                class="block"
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M4 6h16M4 12h16M4 18h16"
                />
              </svg>
              <svg
                id="close-icon"
                class="hidden"
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M6 18L18 6M6 6l12 12"
                />
              </svg>
            </button>
          </div>
          <a href="/">
            hi my name is&nbsp;<span>Tim</span>
          </a>

          <svg
            id="search-button"
            class="searchButton"
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
          >
            <path d="M23.809 21.646l-6.205-6.205c1.167-1.605 1.857-3.579 1.857-5.711 0-5.365-4.365-9.73-9.731-9.73-5.365 0-9.73 4.365-9.73 9.73 0 5.366 4.365 9.73 9.73 9.73 2.034 0 3.923-.627 5.487-1.698l6.238 6.238 2.354-2.354zm-20.955-11.916c0-3.792 3.085-6.877 6.877-6.877s6.877 3.085 6.877 6.877-3.085 6.877-6.877 6.877c-3.793 0-6.877-3.085-6.877-6.877z" />
          </svg>
        </div>
        <div id="search" class="search">
          <div class="container">
            <form action="/search" method="get">
              <input
                type="search"
                placeholder="Search..."
                name="s"
                id="search-input"
              />
              <button type="submit">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="15"
                  height="15"
                  viewBox="0 0 24 24"
                >
                  <path d="M23.809 21.646l-6.205-6.205c1.167-1.605 1.857-3.579 1.857-5.711 0-5.365-4.365-9.73-9.731-9.73-5.365 0-9.73 4.365-9.73 9.73 0 5.366 4.365 9.73 9.73 9.73 2.034 0 3.923-.627 5.487-1.698l6.238 6.238 2.354-2.354zm-20.955-11.916c0-3.792 3.085-6.877 6.877-6.877s6.877 3.085 6.877 6.877-3.085 6.877-6.877 6.877c-3.793 0-6.877-3.085-6.877-6.877z" />
                </svg>
              </button>
            </form>
          </div>
        </div>
        <nav>
          <div>
            <a href="/">Home</a>
            <a href="/sitecore">Sitecore</a>
            <a href="/devops">Devops</a>
            <a href="/web-development">Web Development</a>
            <a href="/blog">Blog</a>
            <a href="/about">About</a>
          </div>
          <div id="mobile-menu" class="hidden">
            <a href="/">Home</a>
            <a href="/sitecore">Sitecore</a>
            <a href="/devops">Devops</a>
            <a href="/web-development">Web Development</a>
            <a href="/blog">Blog</a>
            <a href="/about">About</a>
          </div>
        </nav>
      </header>
      <slot />
      <footer class="container">
        Copywrite &copy;2023 himynameistim.com
      </footer>
    </div>

    <script>
      // Menu toggle
      const menuButton = document.getElementById('menu-button');
      const mobileMenu = document.getElementById('mobile-menu');
      const menuIcon = document.getElementById('menu-icon');
      const closeIcon = document.getElementById('close-icon');

      menuButton?.addEventListener('click', () => {
        const isOpen = mobileMenu?.classList.contains('hidden');
        if (isOpen) {
          mobileMenu?.classList.remove('hidden');
          mobileMenu?.classList.add('block');
          menuIcon?.classList.add('hidden');
          menuIcon?.classList.remove('block');
          closeIcon?.classList.remove('hidden');
          closeIcon?.classList.add('block');
        } else {
          mobileMenu?.classList.add('hidden');
          mobileMenu?.classList.remove('block');
          menuIcon?.classList.remove('hidden');
          menuIcon?.classList.add('block');
          closeIcon?.classList.add('hidden');
          closeIcon?.classList.remove('block');
        }
      });

      // Search toggle
      const searchButton = document.getElementById('search-button');
      const searchDiv = document.getElementById('search');
      const searchInput = document.getElementById('search-input') as HTMLInputElement;

      searchButton?.addEventListener('click', () => {
        searchDiv?.classList.toggle('active');
        searchInput?.focus();
      });
    </script>
  </body>
</html>

<style is:global lang="scss">
  @import "/styles/globals.scss";
</style>
